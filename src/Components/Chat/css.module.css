.main {
	height: 100%;
	width: 100%;
	background-color: var(--chat-bgc);

	> section {
		background-color: red;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		ul {
			display: flex;
			flex-direction: row;
		}
		.editor {
			width: 100%;
			height: 100%;
			position: relative;

			.placeholder {
				position: absolute;
				top: 0;
				left: 0;
				color: pink;
			}
			.textarea {
				height: 100%;
				width: 100%;
				background-color: gray;
				caret-color: var(--text);
				cursor: text;
			}
		}
	}
	ol {
		/* TODO:Figure out a way to get rid of this calc */
		height: calc(100% - 5em);

		display: flex;
		flex-direction: column;
		gap: 0.5em;
		overflow-y: scroll;

		&::-webkit-scrollbar {
			width: 0.75em;
		}
	}
}

.message {
	width: fit-content;
	max-width: 100%;
	height: fit-content;
	display: grid;
	grid-template-columns: 3.5em 1fr 2em;
	grid-template-rows: 3.5em auto;

	/* * {
		border: red solid 1px;
	} */
	> button {
		flex-shrink: 0;
		width: 3em;
		height: 3em;
		grid-column: 1/2;
		grid-row: 1/3;
		justify-self: center;
		img {
			height: 100%;
			width: 100%;
			aspect-ratio: 1/1;
			border-radius: 100%;
		}
	}
	.messageInner {
		width: 100%;
		display: flex;
		flex-direction: column;
		justify-content: space-between;

		grid-column: 2/3;
		grid-row: 1/3;

		.attachments {
			display: flex;
			flex-direction: row;
			gap: 0.25em;

			overflow-x: auto;
			overflow-y: hidden; /* TODO: or not todo */
			height: fit-content;
			width: fit-content;
			max-width: 100%;

			scrollbar-gutter: stable;
			&::-webkit-scrollbar {
				height: 0.75em;
				width: 100%;
			}

			.video,
			.image {
				position: relative;
				flex-shrink: 0;
				height: 18em;

				video,
				img {
					height: 18em;
					border-radius: 0.75em;

					width: 100%;
					flex-shrink: 1;
				}
				&:hover {
					.download {
						opacity: 100;
					}
				}
			}
		}
		.audios {
			max-width: 100em;
			li {
				padding: 1em;
				background-color: var(--depth2);
				border-radius: 12px;
				border: var(--depth1) 1px solid;
				width: 50%;
				display: flex;
				flex-direction: column;
				position: relative;

				span {
					white-space: nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
					width: 100%;
				}
				audio {
					width: 100%;
					height: 2em;
					&::-webkit-media-controls-panel {
					}
					&::-webkit-media-controls-mute-button {
					}
					&::-webkit-media-controls-play-button {
					}
					&::-webkit-media-controls-timeline-container {
					}
					&::-webkit-media-controls-current-time-display {
					}
					&::-webkit-media-controls-time-remaining-display {
					}
					&::-webkit-media-controls-timeline {
					}
					&::-webkit-media-controls-volume-slider-container {
					}
					&::-webkit-media-controls-volume-slider {
					}
					&::-webkit-media-controls-seek-back-button {
					}
					&::-webkit-media-controls-seek-forward-button {
					}
					&::-webkit-media-controls-fullscreen-button {
					}
					&::-webkit-media-controls-rewind-button {
					}
					&::-webkit-media-controls-return-to-realtime-button {
					}
					&::-webkit-media-controls-toggle-closed-captions-button {
					}
				}
				&:hover {
					.download {
						opacity: 100;
					}
				}
			}
		}
		.download {
			height: 2em;
			width: 2em;
			display: flex;
			justify-content: center;
			align-items: center;
			border-radius: 12px;
			visibility: 0;
			opacity: 0;
			background-color: var(--depth2);
			position: absolute;
			top: 0;
			right: 0;
			transition: opacity 300ms ease-in-out;
		}

		.details {
			display: flex;
			align-items: flex-end;
			height: 2em;
			gap: 0.5em;
			button {
				font-size: 1.2em;
				line-height: 1em;
			}
			time {
				font-size: 1em;
				line-height: 1em;
				color: var(--tertiary);
			}
		}
	}
}

.messageSame {
	display: flex;
}
.messageText {
	.list {
		position: relative;
		padding-left: 1ch;
		&::before {
			content: '';
			position: absolute;
			background-color: white;
			width: 0.4em;
			height: 0.4em;
			left: 0;
			top: 0;
			translate: 0 110%;
			border-radius: 100%;
		}
	}
	.indentedList {
		position: relative;
		padding-left: 2ch;
		&::before {
			content: '';
			position: absolute;
			width: 0.4em;
			height: 0.4em;
			left: 0;
			top: 0;
			translate: 1ch 110%;
			border-radius: 100%;
			border: 1px white solid;
		}
	}
}
.botTag {
	color: purple;
}
